- name: "Setup Localhost"
  hosts: localhost
  connection: local
  become: true
  tasks:
    - name: "add Aaron"
      command: "sudo route add 192.168.122.108 gw 10.192.12.7"
      ignore_errors: true
    - name: "add PeauRouge"
      command: "sudo route add 192.168.122.114 gw 10.192.12.7"
      ignore_errors: true
    - name: "add Cyclope"
      command: "sudo route add 192.168.122.128 gw 10.192.12.7"
      ignore_errors: true
    - name: "Install sshpass"
      apt:
        name: "sshpass"
    - name: "Install Ovpn"
      apt:
        name: "openvpn"
- name: "Add Host"
  hosts: localhost
  connection: local
  become: true
  tasks:
    - name: "Add Aaron to host"
      ignore_errors: true
      lineinfile:
        path: /etc/hosts
        line: 192.168.122.108 aaron.local
        state: present
        backup: yes
    - name: "Add cyclope to host"
      ignore_errors: true
      lineinfile:
        path: /etc/hosts
        line: 192.168.122.128 cyclope.local
        state: present
        backup: yes
    - name: "Add PeauRouge to host"
      ignore_errors: true
      lineinfile:
        path: /etc/hosts
        line: 192.168.122.114 peaurouge.local
        state: present
        backup: yes